import javax.swing.*;
import java.awt.*;
import java.awt.image.*;
import javax.imageio.*;
import java.io.*;
import java.awt.event.KeyEvent; 
import java.awt.event.KeyListener; 

import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Image;
import java.awt.Toolkit;

public abstract class Enemy
{
  protected int x;
  protected int y;
  protected int xa;
  protected int ya;
  protected int width = 32;
  protected int height = 32;
  protected Image sprite;
  protected boolean flipped;
  private Game game;
  
  //these represent the current position of the gravedigger, the enemies will always try to go there
  protected int playerX = 0;
  protected int playerY = 0;

  public Enemy(int x, int y,int xa,int ya, Game game) 
  {
    this.x = x;
    this.y = y;
    this.xa = xa;
    this.ya = ya;
    this.game = game;
  }
  
  //updates the variables playerX and playerY which are used by the enemies to move toward the grave digger
  public void updateTarget(){
    //has to go through game
   playerX = game.getPlayerX();
   playerY = game.getPlayerY();
   
   System.out.println(playerX +  ", " + playerY);
  }
  
  
    public void move(){
    int dif = 0;
    
    //if the distance between the players x and enemies x is greater than the difference between the players y and enemies y
    if(Math.abs(playerX - x) > Math.abs(playerY-y)){
      
      //difference between player's x and enemy's x
      dif = playerX - x;
      
      //the enemy is left of the player moves right
      if(dif > 0){xa = 1;}
      
      //if the enemy is right of the player moves left
      if(dif < 0){xa = -1;}
      
      //if the enemy is on the same x value as the player stops moving on the x
      if(dif == 0){xa = 0;}
    }
    else if(Math.abs(playerY - y) > Math.abs(playerX- x)){
      
      //difference between player's y and enemy's y
      dif = playerY - y;
      
      //if the enemy has a lower y value than the player / above the player, enemy moves up
      if(dif > 0){ya = 1;}
      
      //if the enemy has a greater y value / is below the player, enemy moves down
      if(dif < 0){ya = -1;}
      
      //if the enemy is on the same y value as the player stops moving on the y
      if(dif == 0){ya = 0;}
    }
    if ((x + xa <0) || (x + xa > (1280 - width) ))
      xa *= -1;
    if ((y + ya <64) || (y + ya > (960) ))
      ya *= -1;
    
    /*
    if((x%32 != 0) || (y)%32 !=0){
      if(movingLeft){
        xa = -1;
        ya = 0;
      }
      if(movingRight){
        xa = 1;
        ya = 0;
      }
      if(movingUp){
       ya = -1;
       xa = 0;
      }
      if(movingDown){
       ya = 1;
       xa = 0;
      }
    }
    else if((x%32 == 0) || (y)%32 ==0){
      if(movingLeft){
      movingLeft = false;
      xa = 0;
      ya = 0;
      }
      if(movingRight){
      movingRight = false;
      xa=0;
      ya=0;
      }
      if(movingUp){
      movingUp = false;
      xa=0;
      ya=0;
      }
      if(movingDown){
      movingDown = false;
      xa=0;
      ya=0;
      }
    }
    */
    
    
    x = x+xa;
    y =y+ya;
    
  }
    
  public void paint(Graphics g) {
    Graphics2D g2 = (Graphics2D) g;

    
  }
}
